<div class="al-repository">
  <div class="container">
    <div class='row'>
      <div class='col-2 align-self-center al-repository-thumbnail hidden-md-down'>
        <%= image_tag repository.thumbnail_url, alt: repository.name, class: 'img-fluid' %>
      </div>

      <div class="col-sm-12 col-lg-10 al-repository-information">
        <h2>
          <%= link_to_repository_facet repository.name %>
        </h2>
        <div class='row no-gutters justify-content-md-center'>
          <div class='col-4 col-md-3 al-repository-contact'>
            <address>
              <div class="al-repository-street-address">
                <% %i[building address1 address2 city_state_zip_country].each do |f| %>
                  <% if repository.send(f).present? %>
                    <div class='al-repository-street-address-<%= f %>'>
                      <%= repository.send(f) %>
                    </div>
                  <% end %>
                <% end %>
             </div>

              <div class="al-repository-contact-info">
                <% if repository.phone.present? %>
                  <div class='al-repository-contact-info-phone'>
                    <%= repository.phone %>
                  </div>
                <% end %>
                <% if repository.contact_info.present? %>
                  <div class='al-repository-contact-info-contact_info'>
                    <% if repository.contact_info.include?('@') %>
                      <%= mail_to repository.contact_info %>
                    <% else %>
                      <%= repository.contact_info %>
                    <% end %>
                  </div>
                <% end %>
              </div>
            </address>
          </div>

          <div class='col al-repository-description'>
            <%= repository.description %>
          </div>

          <% if repositories_active? %>
            <div class='col col-lg-2 al-repository-extra align-self-center hidden-md-down'>
              <!-- TODO: actually count the collections -->
              <div class='al-repository-extra-collection-count'>
                <span class="al-repository-collection-count">9999</span>
                 collections
               </div>
              <button type='button' class='btn btn-secondary btn-sm'>Learn more</button>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
